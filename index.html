<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Math Solver</title>
  <link rel="manifest" href="./manifest.json" />
  <style>
    :root{
      --bg:#F6F7FB; --card:#FFFFFF; --text:#0F172A; --muted:#64748B;
      --primary:#3B82F6; --border:#E5E7EB; --success:#10B981; --danger:#EF4444;
      --radius:12px;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0F1115; --card:#151923; --text:#E7EAF2; --muted:#A9B1C3;
        --border:#232A3A;
      }
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui, "Cairo", -apple-system, Segoe UI, Roboto}
    .wrap{max-width:960px;margin-inline:auto;padding:16px}
    h1{margin:8px 0 16px;font-size:22px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width: 900px){ .grid{grid-template-columns:1fr} }
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;box-shadow:0 6px 24px rgba(0,0,0,.06)}
    label{display:block;font-weight:600;margin-bottom:8px}
    textarea,input[type="text"]{
      width:100%;padding:12px;border-radius:10px;border:1px solid var(--border);
      background:transparent;color:inherit;font-size:16px;outline:none
    }
    .row{display:flex;gap:12px;flex-wrap:wrap}
    button{
      appearance:none;border:1px solid transparent;border-radius:12px;padding:12px 16px;
      cursor:pointer;font-weight:600
    }
    .btn{background:var(--primary);color:#fff}
    .btn-outline{background:transparent;border-color:var(--border);color:var(--text)}
    .steps{display:grid;gap:10px}
    .step{background:rgba(0,0,0,.03);border:1px solid var(--border);border-radius:10px;padding:10px}
    .badge{display:inline-block;background:rgba(16,185,129,.12);color:var(--success);padding:2px 8px;border-radius:999px;font-size:12px}
    /* Ù…Ø®Ø·Ø· Ù…ØªØ¬Ø§ÙˆØ¨ */
  #plot{
  width:100%;
  /* Ø®Ù„Ù‘ÙŠÙ‡ Ù…Ø±Ø¨Ù‘Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙˆØ§Ø³Ø¹Ø© */
  aspect-ratio: 1 / 1;
  height:auto;
  border:1px solid var(--border);
  border-radius:12px;
  background:var(--card);
  overflow:hidden;
}
@media (max-width: 768px){
  /* Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø®Ù„Ù‘ÙŠÙ‡ 60% Ù…Ù† Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø´Ø§Ø´Ø© */
  #plot{ aspect-ratio:auto; height:60vh; }
}

    /* Ù…Ù†Ø¹ â€œØ§Ù„Ø²Ø­Ù„Ù‚Ø©â€ Ø¨Ø§Ù„Ù„Ù…Ø³ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø±Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ */
    #plot, #plot *{ touch-action: none; }
  </style>
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
</head>
<body>
  <div class="wrap">
    <h1>AI Math Solver</h1>

    <div class="grid">
      <!-- Ø¥Ø¯Ø®Ø§Ù„ -->
      <section class="card">
        <label for="eq">Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©:</label>
        <input id="eq" type="text" placeholder="Ù…Ø«Ø§Ù„: y=2*x+3 Ø£Ùˆ x^2-5x+6=0" />
        <div class="row" style="margin-top:10px">
          <button id="solve" class="btn">âœ¨ Ø­Ù„ + Ø±Ø³Ù…</button>
          <button id="clear" class="btn-outline">ğŸ—‘ Ù…Ø³Ø­</button>
          <span id="status" class="badge" style="display:none"></span>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="steps" id="steps">
            <!-- ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ -->
          </div>
        </div>
      </section>

      <!-- Ø§Ù„Ø±Ø³Ù… -->
      <section class="card">
        <div id="plot"></div>
      </section>
    </div>
  </div>

  <script>
    /* ===== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© Ù„Ù„Ø±Ø³Ù… ===== */
    const isMobile = window.matchMedia('(max-width: 768px)').matches;
    const PLOT_CONFIG = {
      responsive: true,
      staticPlot: isMobile,       // Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„: ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨/Ø§Ù„Ø²ÙˆÙ…
      displayModeBar: false,
      doubleClick: false,
      scrollZoom: false
    };
    const plotEl = document.getElementById('plot');
    window.addEventListener('resize', ()=> Plotly.Plots.resize(plotEl));
    window.addEventListener('orientationchange', ()=> setTimeout(()=> Plotly.Plots.resize(plotEl), 150));

    /* Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© */
    const stepsEl = document.getElementById('steps');
    const statusEl = document.getElementById('status');
    function setStatus(txt, ok=true){
      statusEl.textContent = txt;
      statusEl.style.display = 'inline-block';
      statusEl.style.background = ok ? 'rgba(16,185,129,.12)' : 'rgba(239,68,68,.12)';
      statusEl.style.color = ok ? '#10B981' : '#EF4444';
    }
    function clearStatus(){ statusEl.style.display='none'; }

    function renderSteps(list){
      stepsEl.innerHTML = '';
      (list && list.length ? list : ['â€” Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø·ÙˆØ§Øª â€”']).forEach(s=>{
        const d = document.createElement('div');
        d.className = 'step';
        d.textContent = s;
        stepsEl.appendChild(d);
      });
    }

    /* ===== Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø³ÙŠØ·: ÙƒØ´Ù Ø§Ù„Ù†ÙˆØ¹ ÙˆØ­Ù„ Ø£Ø³Ø§Ø³ÙŠ ===== */
    function detectType(expr){
      const s = expr.replace(/\s+/g,'');
      if (/{|;|,/.test(s) && /=/.test(s)) return 'system';
      if (/\^2|x\*\*2/.test(s) && /=0/.test(s)) return 'quadratic';
      if (/^y=/.test(s) || (/x/.test(s) && /=/.test(s) && /y/.test(s))) return 'line';
      return 'unknown';
    }

    /* ØªØ­ÙˆÙŠÙ„Ø§Øª Ø¢Ù…Ù†Ø© Ù„Ù€ eval */
    function safeEvalY(rhs, x){
      // Ù†Ø³ØªØ¨Ø¯Ù„ x Ø¨Ù€ (Ù‚ÙŠÙ…Ø©) Ø¨Ø£Ù‚ÙˆØ§Ø³ Ù„ØªÙØ§Ø¯ÙŠ ÙƒØ³Ø± Ø§Ù„ØªØ¹Ø¨ÙŠØ±
      const js = rhs.replace(/\^/g, '**').replace(/x/g, `(${x})`);
      return Function(`"use strict";return (${js});`)();
    }

    /* ===== Ø§Ù„Ø±Ø³Ù… ÙˆØ§Ù„Ù„ÙÙŠÙ‘Ø§ÙˆØª ===== */
    function baseLayout(){
  return {
    autosize: true,
    // Ù†Ø®Ù„ÙŠ ÙƒÙ„ Ø®Ø§Ù†Ø© = 1 ÙˆØ­Ø¯Ø© Ø¹Ù„Ù‰ X Ùˆ Y
    xaxis: {
      range: [-10, 10],
      dtick: 1,                 // Ø®Ø· ÙƒÙ„ 1
      tick0: 0,
      showgrid: true,
      gridcolor: '#CBD5E1',
      minor: { showgrid: true, dtick: 1 }, // ØªØ£ÙƒÙŠØ¯ Ø®Ø·ÙˆØ· Ø«Ø§Ù†ÙˆÙŠØ© Ø£ÙŠØ¶Ù‹Ø§
      linecolor:'#94A3B8', mirror:true, ticks:'outside', showline:true,
      scaleanchor: 'y',         // Ù†ÙØ³ Ø§Ù„Ù…Ù‚ÙŠØ§Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙˆØ±ÙŠÙ†
      scaleratio: 1
    },
    yaxis: {
      range: [-10, 10],
      dtick: 1,                 // Ø®Ø· ÙƒÙ„ 1
      tick0: 0,
      showgrid: true,
      gridcolor: '#CBD5E1',
      minor: { showgrid: true, dtick: 1 },
      linecolor:'#94A3B8', mirror:true, ticks:'outside', showline:true
    },
    margin: { l: 40, r: 20, t: 30, b: 40 },
    showlegend: true,
    legend: { orientation: 'h', x: 0, y: 1.1 }
  };
}

    function plotWelcome(){
      Plotly.newPlot(plotEl, [], baseLayout(), PLOT_CONFIG);
    }

    function plotLine(rhs){
      // Ù†Ù‚Ø§Ø· Ù„Ù„Ø±Ø³Ù…
      const X = [];
      for (let i=-10;i<=10;i+=0.1) X.push(+i.toFixed(1));
      const Y = X.map(x=> safeEvalY(rhs,x));

      const trace = { x:X, y:Y, type:'scatter', mode:'lines', name:`y=${rhs}`, line:{width:3} };

      // Ø§Ù„ØªÙ‚Ø§Ø·Ø¹Ø§Øª
      const y0 = safeEvalY(rhs, 0);
      // ØªÙ‚Ø±ÙŠØ¨ Ø¬Ø°Ø± ØªÙ‚Ø§Ø·Ø¹ x Ø¨Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¨Ø³ÙŠØ·
      let x0 = null;
      for (let i=1;i<X.length;i++){
        if (Y[i]===0){ x0=X[i]; break; }
        if (Y[i-1]===0){ x0=X[i-1]; break; }
        if ((Y[i-1] < 0 && Y[i] > 0) || (Y[i-1] > 0 && Y[i] < 0)){
          // Ø®Ø·Ù‘ÙŠ -> ØªÙ‚Ø±ÙŠØ¨ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¹Ø¨ÙˆØ±
          const t = Math.abs(Y[i-1])/(Math.abs(Y[i-1])+Math.abs(Y[i]));
          x0 = X[i-1] + t*(X[i]-X[i-1]);
          break;
        }
      }

      const pts = [];
      if (x0!=null) pts.push({x:[x0],y:[0], mode:'markers', type:'scatter', name:`A(${x0.toFixed(2)}, 0)`, marker:{size:10,color:'red'}});
      pts.push({x:[0],y:[y0], mode:'markers', type:'scatter', name:`B(0, ${y0.toFixed(2)})`, marker:{size:10,color:'green'}});

      const layout = baseLayout();
      Plotly.newPlot(plotEl, [trace, ...pts], layout, PLOT_CONFIG);
    }

    function plotQuadratic(poly){
      // Ù†ÙØ³ Ø®Ø·: Ù†Ø±Ø³Ù… f(x)=poly
      plotLine(poly); // ÙŠÙƒÙÙŠÙ†Ø§ Ù†ÙØ³ Ø§Ù„Ø¯Ø§Ù„Ø©ØŒ Ù„Ø£Ù†Ù†Ø§ Ù…Ø§ Ù†Ù‚ØµØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø©
    }

    function plotSystem(e1, e2){
      // Ù†Ø±Ø³Ù… ÙƒÙ„ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¨ØªØ­ÙˆÙŠÙ„ y=... Ø¥Ù„Ù‰ Ø¯Ø§Ù„Ø©
      // Ù„Ùˆ Ø¬Øª Ø¶Ù…Ù†ÙŠÙ‹Ø§ (Ù…Ø«Ø§Ù„: 2x - y + 3 = 0) Ù†Ø­ÙˆÙ„Ù‡Ø§ Ø¥Ù„Ù‰ y=...
      function toRHS(eq){
        const s = eq.replace(/\s+/g,'');
        if (s.startsWith('y=')) return s.slice(2);
        if (s.includes('=')){
          const [L,R] = s.split('=');
          // Ù†Ø­Ø§ÙˆÙ„ Ù†Ø®Ù„ÙŠ ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ³Ø§Ø±: L-R=0 Ø«Ù… Ù†Ø­Ù„ Ù„Ù€ y
          // Ù‡Ù†Ø§ ØªØ¨Ø³ÙŠØ· Ø³Ø±ÙŠØ¹: Ù†Ù†Ù‚Ù„ R Ù„Ù„ÙŠØ³Ø§Ø± ÙˆÙ†Ø­Ø°Ù =0 Ù„Ùˆ Ù…ÙˆØ¬ÙˆØ¯
          const SR = (L+'-('+R+')').replace(/=0$/,'');
          // ØµÙŠØºØ©: ax + by + c => y = (-(ax+c))/b
          // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ø§Ù…Ù„Ø§Øª y Ø¨Ø´ÙƒÙ„ Ø¨Ø¯Ø§Ø¦ÙŠ
          const by = SR.match(/([+\-]?\d*\.?\d*)y/);
          if (!by) return null;
          const b = by[1]=== '' || by[1]=== '+' ? 1 : (by[1]==='-' ? -1 : parseFloat(by[1]));
          // Ù†Ø¹ÙˆØ¶ y=0 Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨Ø§Ù‚ÙŠ Ù…Ø¹ x
          // Ù†ÙƒØªØ¨ SR Ø¹Ù„Ù‰ Ø´ÙƒÙ„: b*y + rest => y = -rest/b
          const rest = SR.replace(/([+\-]?\d*\.?\d*)y/,'0'); // Ù†Ø­Ø°Ù Ø­Ø¯ y
          return `(-(${rest}))/(${b})`;
        }
        return null;
      }

      const rhs1 = toRHS(e1);
      const rhs2 = toRHS(e2);

      const X = [];
      for (let i=-10;i<=10;i+=0.1) X.push(+i.toFixed(1));
      const traces = [];

      if (rhs1){
        const Y1 = X.map(x=> safeEvalY(rhs1,x));
        traces.push({x:X,y:Y1,type:'scatter',mode:'lines',name:e1,line:{width:3}});
      }
      if (rhs2){
        const Y2 = X.map(x=> safeEvalY(rhs2,x));
        traces.push({x:X,y:Y2,type:'scatter',mode:'lines',name:e2,line:{width:3}});
      }

      Plotly.newPlot(plotEl, traces, baseLayout(), PLOT_CONFIG);
    }

    /* ===== Ø­Ù„ Ù…Ø¨Ø³Ù‘Ø· ÙÙ‚Ø· Ù„Ù„Ø¹Ø±Ø¶ (Ø®Ø·ÙˆØ§Øª Ù†ØµÙ‘ÙŠØ©) ===== */
    function solveSimple(expr){
      const s = expr.replace(/\s+/g,'');
      const t = detectType(s);
      const steps = [];
      let draw = null;

      if (t === 'line'){
        // y=mx+b Ø£Ùˆ 2x - y + 3 = 0
        if (s.startsWith('y=')){
          const rhs = s.split('=')[1];
          // ØªÙ‚Ø¯ÙŠØ± m,b
          steps.push('Ø§Ù„ØµÙŠØºØ©:  y = m x + b');
          // Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¨Ø³ÙŠØ·Ø© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ m,b (ØªÙ‚Ø±ÙŠØ¨ÙŠØ©)
          try{
            const m = (safeEvalY(rhs,1)-safeEvalY(rhs,0));
            const b = safeEvalY(rhs,0);
            steps.push(`Ø§Ù„Ù…ÙŠÙ„ (m) = ${m.toFixed(2)}`);
            steps.push(`ØªÙ‚Ø§Ø·Ø¹ y (b) = ${b.toFixed(2)}`);
          }catch{}
          // ØªÙ‚Ø§Ø·Ø¹ x
          try{
            const y0 = safeEvalY(rhs,0);
            let x0 = null, X=[-10,-5,-2,-1,0,1,2,5,10];
            for (let i=1;i<X.length;i++){
              const f1 = safeEvalY(rhs,X[i-1]), f2 = safeEvalY(rhs,X[i]);
              if ((f1<=0 && f2>=0) || (f1>=0 && f2<=0)){
                const t = Math.abs(f1)/(Math.abs(f1)+Math.abs(f2));
                x0 = X[i-1] + t*(X[i]-X[i-1]); break;
              }
            }
            if (x0!=null) steps.push(`ØªÙ‚Ø§Ø·Ø¹ Ø§Ù„Ù…Ø­ÙˆØ± x:  x = ${x0.toFixed(2)}`);
          }catch{}
          draw = {kind:'line', rhs};
        }else{
          // ØµÙŠØºØ© Ø¹Ø§Ù…Ø© => Ù†Ø­Ø§ÙˆÙ„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§ Ø¥Ù„Ù‰ y=...
          // Ù…Ø«Ø§Ù„: 2x - y + 3 = 0  =>  y = 2x + 3
          const [L,R] = s.split('=');
          const SR = (L+'-('+R+')').replace(/=0$/,''); // =0 Ù„Ù„ØµÙŠØºØ© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©
          // y = - (SR Ø¨Ø¯ÙˆÙ† y) / Ù…Ø¹Ø§Ù…Ù„ y
          const by = SR.match(/([+\-]?\d*\.?\d*)y/);
          if (by){
            const b = by[1]=== '' || by[1]=== '+' ? 1 : (by[1]==='-' ? -1 : parseFloat(by[1]));
            const rest = SR.replace(/([+\-]?\d*\.?\d*)y/,'0');
            const rhs = `(-(${rest}))/(${b})`;
            steps.push('Ø§Ù„ØµÙŠØºØ©:  y = m x + b');
            draw = {kind:'line', rhs};
          }else{
            steps.push('Ù…Ø§ Ù‚Ø¯Ø±Øª Ø£Ø­ÙˆÙ„Ù‡Ø§ Ù„Ù€Ù€ y=... ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.');
          }
        }
      }
      else if (t === 'quadratic'){
        // x^2 - 5x + 6 = 0 => Ù†Ø±Ø³Ù… y = x^2 - 5x + 6
        const [L,R] = s.split('=');
        const poly = `${L}-(${R})`.replace(/=0$/,'');
        steps.push('ØªØ­ÙˆÙŠÙ„ Ù„Ù„ØµÙŠØºØ© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©:  f(x) = 0');
        steps.push('Ù†Ø±Ø³Ù… f(x) ÙˆÙ†ÙØ¸Ù‡Ø± Ø§Ù„Ø¬Ø°ÙˆØ± ÙƒÙ†Ù‚Ø§Ø· ØªÙ‚Ø§Ø·Ø¹ Ù…Ø¹ x.');
        draw = {kind:'quad', poly};
      }
      else if (t === 'system'){
        // { y=2x+3 ; y=-x+1 }
        const parts = s.replace(/[{}]/g,'').split(/;|,/).map(v=>v.trim()).filter(Boolean);
        if (parts.length>=2){
          steps.push('Ù†Ø±Ø³Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† ÙˆÙ†Ø¨ÙŠÙ‘Ù† Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙ‚Ø§Ø·Ø¹.');
          draw = {kind:'sys', e1:parts[0], e2:parts[1]};
        }else{
          steps.push('Ø§Ù„ØµÙŠØºØ© Ù†Ø§Ù‚ØµØ© Ù„Ù…Ø¹Ø§Ø¯ØªÙŠÙ†.');
        }
      }
      else{
        // Ù„Ùˆ ÙƒØ§Ù†Øª y= Ø¯Ø§Ù„Ø© Ø¹Ø§Ù…Ø© Ù†Ø±Ø³Ù…Ù‡Ø§ ÙƒÙ€ function
        if (s.startsWith('y=')){
          const rhs = s.split('=')[1];
          steps.push('ØªÙ… ØªÙØ³ÙŠØ±Ù‡Ø§ ÙƒØ¯Ø§Ù„Ø© Ø¹Ø§Ù…Ø© y=f(x).');
          draw = {kind:'quad', poly:rhs};
        }else{
          steps.push('Ù…Ø§ ÙÙ‡Ù…Øª Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³Ø£Ù„Ø©. Ø¬Ø±Ù‘Ø¨ Ø£Ù…Ø«Ù„Ø©: y=2*x+3 Ø£Ùˆ x^2-5x+6=0 Ø£Ùˆ {y=2*x+3; y=-x+1}');
        }
      }

      return {steps, draw};
    }

    /* ===== Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ===== */
    const inp = document.getElementById('eq');
    document.getElementById('solve').addEventListener('click', ()=>{
      clearStatus();
      const expr = inp.value.trim();
      if (!expr){ setStatus('Ø§ÙƒØªØ¨ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø£ÙˆÙ„', false); return; }
      try{
        const res = solveSimple(expr);
        renderSteps(res.steps);
        if (res.draw){
          if (res.draw.kind==='line') plotLine(res.draw.rhs.replace(/\*\*/g,'^'));
          if (res.draw.kind==='quad') plotQuadratic(res.draw.poly.replace(/\*\*/g,'^'));
          if (res.draw.kind==='sys')  plotSystem(res.draw.e1.replace(/\*\*/g,'^'), res.draw.e2.replace(/\*\*/g,'^'));
          setStatus('âœ” ØªÙ… Ø§Ù„Ø­Ù„ ÙˆØ§Ù„Ø±Ø³Ù…');
        }else{
          setStatus('Ù…Ø§ Ù‚Ø¯Ø± ÙŠØ±Ø³Ù…â€”Ø¹Ø¯Ù‘Ù„ Ø§Ù„ØµÙŠØºØ©', false);
          plotWelcome();
        }
      }catch(err){
        console.error(err);
        setStatus('Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„/Ø§Ù„Ø±Ø³Ù…', false);
        plotWelcome();
      }
    });

    document.getElementById('clear').addEventListener('click', ()=>{
      inp.value = '';
      renderSteps([]);
      clearStatus();
      plotWelcome();
    });

    // Ø±Ø³Ù… Ù…Ø¨Ø¯Ø¦ÙŠ
    plotWelcome();

    // Service Worker (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    if ('serviceWorker' in navigator){
      navigator.serviceWorker.register('./sw.js').catch(()=>{});
    }
  </script>
</body>
</html>
